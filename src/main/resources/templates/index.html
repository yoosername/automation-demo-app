<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Automation App</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="/webjars/toastr/2.1.3/toastr.min.css" />		
	<link rel="stylesheet" href="/webjars/bootstrap/4.0.0-beta/css/bootstrap.min.css">
	<link rel="stylesheet" href="/webjars/font-awesome/4.7.0/css/font-awesome.min.css">
	<style>
		body {
		  min-height: 75rem;
		  padding-top: 4.5rem;
		}
	</style>
</head>

<body>

	<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">

		<a class="navbar-brand" href="#">Automation App</a>

		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
		</button>

		<div id="navbarNavDropdown" class="navbar-collapse collapse">

			<form id="logoutform" th:action="@{/logout}" method="post"></form>

			<ul class="navbar-nav ml-auto">
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<i class="fa fa-user-circle-o" aria-hidden="true"></i> [[${#httpServletRequest.remoteUser}]]
					</a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
						<a class="dropdown-item" href="#" onclick="logoutform.submit()"><i class="fa fa-sign-out" aria-hidden="true"></i> Logout</a>
					</div>
				</li>
			</ul>
		</div>
    </nav>

	<div class='container'>
		<div id='root'></div>
	</div>
	
	<script src="/webjars/react/15.0.1/react.min.js"></script>
	<script src="/webjars/react-dom/15.0.1/dist/react-dom.js"></script>
	<script	src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
	<script	src="/webjars/jquery/3.2.1/jquery.min.js"></script>
	<script	src="/webjars/toastr/2.1.3/toastr.min.js"></script>
	<script src="/webjars/popper.js/1.12.5/dist/umd/popper.min.js"></script>
  	<script src="/webjars/bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>

	<script type="text/babel" src="/public/app.js"></script>
	
	<input type="hidden" id="csrf_token" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
	
	<script type="text/javascript">
		$(function () {
			var token = $('#csrf_token').val();
		
			$.ajaxPrefilter(function (options, originalOptions, jqXHR) {
			  jqXHR.setRequestHeader('X-CSRF-Token', token);
			});
		});
	</script>

</body>

</html>
